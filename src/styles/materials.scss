@import "templates/variables";

body,
html {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  @include noScroll();
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  background: {
    image: url("../images/bg.png");
    size: cover;
    position: 0 0;
    attachment: fixed;
  }

  @import "templates/preloader";
  @import "templates/header";
  @import "templates/feedback-button";
  @import "templates/up-button";

  main {
    flex-grow: 1;
    width: 100%;
    display: flex;
    justify-content: space-between;

    #materials-left-nav,
    #materials-right-nav {
      padding: 0 $line $line;
      display: flex;
      flex-direction: column;
      justify-content: space-around;

      .materials-item {
        font: {
          weight: bold;
        }
        flex-basis: 30%;
        background: {
          color: $green;
        }
        border: {
          radius: 50%;
        }
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        animation: {
          duration: $time * 2;
          timing-function: ease-out;
          direction: normal;
          iteration-count: 1;
          fill-mode: forwards;
        }
        box-shadow: 0 $line / 10 $line / 2 0 $light;

        .ico {
          font: {
            family: Materials, sans-serif;
          }
          color: $darkGreen;
        }

        .materials-caption {
          margin: 0;
          padding: $line 0 0;
          color: $light;
          font: {
            family: Arial, sans-serif;
          }
        }
      }
    }

    #materials-left-nav {

      .materials-item {

        @for $i from 1 through 3 {
          $step: 100% + ($i * 100%);
          &:nth-of-type(#{$i}) {
            transform: translateX($step * -1);
            animation: {
              delay: $time * 12 + ($i * $time);
            }
          }
        }
      }
    }

    #materials-right-nav {

      .materials-item {

        @for $i from 1 through 3 {
          $step: 100% + ($i * 100%);
          &:nth-of-type(#{$i}) {
            transform: translateX($step);
            animation: {
              delay: $time * 12 + ($i * $time);
            }
          }
        }
      }
    }

    .main-center {
      flex-grow: 1;
      overflow: {
        y: scroll;
      }
      @include noScroll();
      font: {
        family: Arial, sans-serif;
      }

      .windows-block{
        height: 100%;
        display: flex;
        flex-wrap: wrap;
        align-content: flex-start;

        .window-item {
          position: relative;
          margin: 0 $line $line;
          text-align: center;
          color: $light;
          background: {
            color: transparentize($green, 0.2);
          }
          flex-basis: 40%;
          flex-grow: 1;
          display: flex;
          flex-direction: column;
          justify-content: space-around;
          box-shadow: 0 $line / 10 $line / 2 0 $light;
          text: {
            align: right;
          }

          &::before {
            position: absolute;
            left: 5%;
            display: flex;
            align-items: center;
            content: 'â€¢';
            color: $light;
            padding: $line;
            font: {
              family: Materials, sans-serif;
              size: $line * 3;
            }
            transition: {
              duration: $time / 2;
              timing-function: linear;
            }
          }

          .content-caption {
            align-self: center;
            margin: 0;
            padding: $line * 1.5 $line;
            font: {
              size: $line * 1.75;
              weight: normal;
              family: Arial, sans-serif;
            }
            transition: {
              duration: $time / 2;
              timing-function: linear;
            }

            em {
              color: darken($light, 30);
              font: {
                size: $line * 1.5;
              }
            }
          }

          .content-info {
            flex-grow: 1;
            display: flex;
            flex-direction: row;
            justify-content: space-around;
            margin: 0;

            .content-slider,
            table {
              width: 40%;
              height: $line * 30;
            }

            .content-slider {
              background: {
                color: $green;
              }
            }

            table {
              color: $light;
              border: {
                collapse: collapse;
              }

              tr:nth-of-type(odd) {
                background: {
                  color: $green;
                }
              }

              tr:nth-last-of-type(even) {
                background: {
                  color: lighten($darkGreen, 1);
                }
              }
            }
          }

          &:hover:not(.current) {
            cursor: pointer;

            &::before,
            .content-caption:not(em) {
              text-shadow: $line / 5 $line / 5 $line / 5 $grey;
            }
          }

          &.current {
            color: $green;
            background: {
              color: $light;
            }
            margin: auto;
            height: 100%;
            transition: {
              duration: $time;
              timing-function: linear;
            }

            &::before {
              display: none;
            }

            .content-caption {
              font: {
                weight: bold;
              }
              text: {
                align: center;
              }

              em {
                color: $green;
                font: {
                  weight: bold;
                  style: normal;
                }
              }
            }
          }
        }
      }
    }
  }

  @import "templates/footer";

  &.visible {
    @include bodyVisible;

    .materials-item {
      animation: {
        name: sideMenu;
      }
    }
  }
}